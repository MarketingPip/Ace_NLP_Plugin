/**!
 * @license Emoji-Fallback.js - A pure vanilla JavaScript library for EASILY parsing M3U / IPTV
 * VERSION: 1.0.0
 * LICENSED UNDER MIT LICENSE
 * MORE INFO CAN BE FOUND AT https://github.com/MarketingPipeline/Emoji-Fallback.js/
 */ var __webpack_exports__ = {};
ace.define('ace/plugin/yaml-validation', ['require', 'exports', 'module', 'ace/lib/dom', 'ace/lib/lang'], function (require) {
  var dom = require('ace/lib/dom');
  var lang = require('ace/lib/lang');
  var highlight = function highlight(editor, patterns, nlp) {
    // each keypress

    if (patterns.length === 0) {
      return;
    }
    // get text
    var str = editor.getValue();
    // parse it
    var d = nlp(str);
    //d.normalize()
    var Range = ace.require("ace/range").Range;
    var prevMarkers = editor.session.getMarkers();
    if (prevMarkers) {
      var prevMarkersArr = Object.keys(prevMarkers);
      for (var _i = 0, _prevMarkersArr = prevMarkersArr; _i < _prevMarkersArr.length; _i++) {
        var item = _prevMarkersArr[_i];
        editor.session.removeMarker(prevMarkers[item].id);
      }
    }
    // run each pattern
    Object.keys(patterns).forEach(function (k) {
      var m = d.match(k);
      if (m.found) {
        // get the char-offset for each match
        var json = m.json({
          offset: true
        });
        // highlight each segment
        json.forEach(function (o) {
          var start = editor.session.doc.indexToPosition(o.offset.start);
          var end = editor.session.doc.indexToPosition(o.offset.start + o.offset.length);
          editor.session.addMarker(new Range(start.row, start.column, end.row, end.column), "ner ner ".concat(patterns[k]), "text");
        });
      }
    });
  };
  return highlight;
});
